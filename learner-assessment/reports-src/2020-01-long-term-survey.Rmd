---
## To build this report, run:
## `source("build_reports.Rmd");
## build_2020_longterm_report()`
## in the directory one level above
title: Analysis of The Carpentries Long-Term Surveys
author:
  - Fran√ßois Michonneau^[http://orcid.org/0000-0002-9092-966X]
  - Kari L. Jordan^[https://orcid.org/0000-0003-4121-2432]
date: April 1, 2020
output:
  html_document:
    self_contained: no
    toc: true
    toc_float: true
    lib_dir: "../reports/libs"
  pdf_document:
    toc: true
    highlight: zenburn
    df_print: kable
---

```{r TODO, echo=FALSE}
## - [x] remove Serah's answer in original input
## - [ ] remove Albania from answers?
## - [ ] use different variable names as input to not create ambiguity about
##       data structure.
```


```{r setup, include=FALSE}
suppressPackageStartupMessages(library(tidyverse))
library(ggalt)

if (knitr::opts_knit$get("rmarkdown.pandoc.to") == "latex") {
    figout <- "\\maxwidth"
} else {
    figout <- NULL   
}

## puts all figures in figures folder
knitr::opts_chunk$set(
  echo = FALSE,
  message = FALSE,
  fig.path='../figures/2020-01-longterm-',
  fig.width = 10,
  fig.retina = 2,
  out.width = figout
)

source("../code/2020-longterm-survey/plots.R")
base_path <- "../data/2020-longterm-survey"
lt_data <- bind_cols(
  read_csv(
    file.path(
      base_path,
      "20200121-longterm-professional_profile-with-open.csv"
    ),
    col_types = cols(.default = "c")
  ),
  read_csv(
    file.path(
      base_path,
      "20200121-longterm-other_questions-with-open.csv"
    ),
    col_types = cols(.default = "c")
  ),
  read_csv(
    file.path(
      base_path,
      "20200121-longterm-demographics-with-open.csv"
    ),
    col_types = cols(.default = "c")
  )
)
```

In the fourth quarter of 2019 The Carpentries collected feedback from community members who took a Carpentries workshop within six months. Find more information about this data collection period [on our blog](https://carpentries.org/blog/2019/11/long-term-impact-survey/). We are excited to release the results of our long-term survey, and invite community members to use this data to champion The Carpentries far and near. 

The results of this survey are cumulative. We released [our first long-term survey results](https://datacarpentry.org/blog/2017/10/long-term-survey-results) in October 2017. You can find all of the data and code in our [assessment repository on GitHub](https://github.com/carpentries/assessment/tree/master/learner-assessment).

## Respondents Career Stage

The majority of long-term survey respondents are graduate students. Other career stages not shown on this figure include Librarians and Government Research Staff.

```{r occupation, fig.height=6}
plot_multi(
  lt_data,
  var = occupation
)
```

## Respondents Field of Research, Work, or Study

```{r domain, fig.height=8}
plot_multi(
  lt_data,
  var = domain
)

```

## Number of Carpentries Workshops Completed

```{r workshop_attended_amount}
plot_single(
  lt_data,
  var = workshop_attended_amount
)
```

## Time Since Completing a Carpentries Workshop

```{r workshop_attended_age}
plot_single(
  lt_data,
  var = workshop_attended_age
)
```

## Last Carpentries Workshop Attended

```{r workshop_attended_type}
plot_single(
  lt_data,
  var = workshop_attended_type
)
```

## Content Covered at Last Carpentries Workshop 

```{r workshop_attended_content}
plot_multi(
  lt_data,
  var = workshop_attended_content,
  wrap_width = 14
)
```

## Behaviors Adopted 

```{r behavior_adopted, fig.height=10}
plot_multi(
  lt_data,
  var = behavior_adopted
)
```

## Programming Usage Pre-Carpentries Workshop 

```{r frequency_usage_before, fig.height=8}
plot_single(
  lt_data,
  var = frequency_usage_before,
  label_levels = rev(c(
    "Daily",
    "Weekly",
    "Monthly",
    "Several times per year",
    "Less than once per year",
    "I had not been using tools like these"
  ))
)
```

## Programming Usage Post-Carpentries Workshop 

```{r frequency_usage_after, fig.height=8}
plot_single(
  lt_data,
  var = frequency_usage_after,
  label_levels = rev(c(
    "Daily",
    "Weekly",
    "Monthly",
    "Several times per year",
    "Less than once per year",
    "I have not been using tools like these"
  ))
)
```

## Change in Confidence in Tools Covered at Workshop

```{r change_confidence}
plot_single(
  lt_data,
  var = change_confidence,
  label_levels = rev(c(
    "I'm more confident now",
    "I'm equally confident now", 
    "I'm less confident now"
  ))
)
```

## How Tools Help Respondents 

```{r how_tools_help, fig.height=8}
plot_multi(
  lt_data,
  var = how_tools_help
)
```

## Carpentries Workshop Contributing to Research

```{r workshop_contributed_academics}
plot_single(
  lt_data,
  var = workshop_contributed_academics,
  label_levels = rev(c(
    "Yes",
    "Not Sure",
    "No"
  ))
)
```

## Potential Impact on Carpentries Respondents 

```{r workshop_impact, fig.height=15}
lt_data %>%
  mutate_at(
    .vars = vars(starts_with("impact_"), -ends_with("open")),
    ~ as.character(match(., c(
      "Strongly disagree", "Disagree", "Neutral", "Agree", "Strongly agree")
    ))
  ) %>% 
  plot_group(
  prefix = "impact",
  y_levels = as.character(1:5),
  title = " "
  ) +
  labs(subtitle = "(1: Strongly disagree, 3: Neutral, 5: Strongly agree)")
```


## Involvement in Carpentries Community Post-Workshop

```{r community_involvement, fig.height=8}
plot_multi(
  lt_data,
  var = community_involvement
)
```

## Respondents Participating in Learning Activities 

```{r other_activities, fig.height=8}
plot_multi(
  lt_data,
  var = other_activities
)
```

## Respondents Who Recommended a Carpentries Workshop 

```{r has_recommended}
plot_single(
  lt_data,
  var = has_recommended
)
```

## Net Promoter Score

```{r recommendation_score}
plot_single(
  lt_data,
  var = recommendation_score,
  label_levels = as.character(0:10)
)
```

## Country Where Respondents' Took Workshop


```{r workshop_country}
plot_single(
  lt_data,
  var = workshop_country
)
```

## Respondents' Gender Identity 

Note: Gender identity responses apply to U.S. survey respondents only.

```{r demographics_gender}
plot_single(
  lt_data,
  var = demographics_gender
)
```

## Respondents' Racial/Ethnic Identity 

Note: Racial/ethnic identity responses apply to U.S. survey respondents only.

```{r demographics_ethnicity, fig.height=14}
plot_multi(
  lt_data,
  var = demographics_ethnicity 
)
```
